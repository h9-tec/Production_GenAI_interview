<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 550">
  <!-- Background -->
  <defs>
    <radialGradient id="bgGrad" cx="50%" cy="40%" r="70%">
      <stop offset="0%" stop-color="#0c1222"/>
      <stop offset="100%" stop-color="#030712"/>
    </radialGradient>
    <linearGradient id="skyGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#38bdf8"/>
      <stop offset="100%" stop-color="#0ea5e9"/>
    </linearGradient>
    <linearGradient id="emeraldGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#34d399"/>
      <stop offset="100%" stop-color="#10b981"/>
    </linearGradient>
    <linearGradient id="amberGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#fbbf24"/>
      <stop offset="100%" stop-color="#f59e0b"/>
    </linearGradient>
    <linearGradient id="roseGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#fb7185"/>
      <stop offset="100%" stop-color="#f43f5e"/>
    </linearGradient>
  </defs>
  <rect width="1000" height="550" fill="url(#bgGrad)"/>

  <!-- Star field decorative dots -->
  <circle cx="45" cy="30" r="1" fill="#f1f5f9" opacity="0.12"/>
  <circle cx="150" cy="55" r="1" fill="#f1f5f9" opacity="0.18"/>
  <circle cx="280" cy="20" r="1" fill="#f1f5f9" opacity="0.10"/>
  <circle cx="410" cy="45" r="1" fill="#f1f5f9" opacity="0.15"/>
  <circle cx="530" cy="15" r="1" fill="#f1f5f9" opacity="0.13"/>
  <circle cx="670" cy="38" r="1" fill="#f1f5f9" opacity="0.17"/>
  <circle cx="780" cy="22" r="1" fill="#f1f5f9" opacity="0.11"/>
  <circle cx="900" cy="50" r="1" fill="#f1f5f9" opacity="0.14"/>
  <circle cx="960" cy="28" r="1" fill="#f1f5f9" opacity="0.16"/>
  <circle cx="100" cy="540" r="1" fill="#f1f5f9" opacity="0.12"/>
  <circle cx="250" cy="530" r="1" fill="#f1f5f9" opacity="0.10"/>
  <circle cx="500" cy="540" r="1" fill="#f1f5f9" opacity="0.15"/>
  <circle cx="720" cy="535" r="1" fill="#f1f5f9" opacity="0.13"/>
  <circle cx="850" cy="542" r="1" fill="#f1f5f9" opacity="0.18"/>
  <circle cx="60" cy="280" r="1" fill="#f1f5f9" opacity="0.11"/>
  <circle cx="940" cy="300" r="1" fill="#f1f5f9" opacity="0.14"/>
  <circle cx="500" cy="275" r="1" fill="#f1f5f9" opacity="0.16"/>
  <circle cx="350" cy="270" r="1" fill="#f1f5f9" opacity="0.10"/>

  <!-- Title -->
  <text x="500" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#f1f5f9">Semantic Caching Architecture</text>

  <!-- ==================== TOP SECTION: Cache Flow ==================== -->

  <!-- 1. Query Pill -->
  <rect x="18" y="85" width="90" height="38" rx="20" fill="#38bdf8" opacity="0.08"/>
  <rect x="16" y="83" width="90" height="38" rx="20" fill="#0f172a" stroke="#38bdf8" stroke-width="1.5"/>
  <text x="61" y="107" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#38bdf8">Query</text>

  <!-- Arrow 1: Query → Embed Query -->
  <line x1="108" y1="102" x2="148" y2="102" stroke="#334155" stroke-width="1.5"/>
  <polygon points="148,97 158,102 148,107" fill="#334155"/>

  <!-- 2. Embed Query Box -->
  <rect x="162" y="79" width="114" height="54" rx="10" fill="#34d399" opacity="0.08"/>
  <rect x="160" y="77" width="114" height="54" rx="6" fill="#0f172a" stroke="#34d399" stroke-width="1.5"/>
  <text x="217" y="109" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#34d399">Embed Query</text>

  <!-- Arrow 2: Embed Query → Cache Lookup -->
  <line x1="276" y1="102" x2="316" y2="102" stroke="#334155" stroke-width="1.5"/>
  <polygon points="316,97 326,102 316,107" fill="#334155"/>

  <!-- 3. Cache Lookup Box (prominent) -->
  <rect x="330" y="71" width="148" height="69" rx="12" fill="#fbbf24" opacity="0.08"/>
  <rect x="328" y="69" width="148" height="69" rx="8" fill="#0f172a" stroke="#fbbf24" stroke-width="2"/>
  <text x="402" y="98" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fbbf24">Cache Lookup</text>
  <text x="402" y="118" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">cosine sim > 0.85?</text>

  <!-- Arrow 3: Cache Lookup → Diamond -->
  <line x1="478" y1="102" x2="528" y2="102" stroke="#334155" stroke-width="1.5"/>
  <polygon points="528,97 538,102 528,107" fill="#334155"/>

  <!-- 4. Diamond Decision Node "Hit?" -->
  <g transform="translate(570,102)">
    <rect x="-32" y="-32" width="64" height="64" rx="4" fill="#0f172a" stroke="#475569" stroke-width="1.5" transform="rotate(45)"/>
    <text x="0" y="5" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f1f5f9">Hit?</text>
  </g>

  <!-- ===== YES Path (emerald, going right) ===== -->
  <!-- YES label -->
  <text x="630" y="82" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#34d399">YES</text>
  <!-- Thick emerald arrow right -->
  <line x1="616" y1="88" x2="690" y2="88" stroke="#34d399" stroke-width="3"/>
  <polygon points="690,82 704,88 690,94" fill="#34d399"/>

  <!-- Return Cached Response Box -->
  <rect x="710" y="64" width="188" height="54" rx="10" fill="#34d399" opacity="0.08"/>
  <rect x="708" y="62" width="188" height="54" rx="6" fill="#0f172a" stroke="#34d399" stroke-width="1.5"/>
  <text x="802" y="86" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#34d399">Return Cached</text>
  <text x="802" y="103" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#34d399">Response</text>

  <!-- Lightning bolt + <5ms label -->
  <rect x="906" y="73" width="78" height="28" rx="14" fill="#34d399" opacity="0.12"/>
  <text x="945" y="92" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#34d399">&#9889; &lt;5ms</text>

  <!-- ===== NO Path (rose, going down) ===== -->
  <!-- NO label -->
  <text x="582" y="156" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fb7185">NO</text>
  <!-- Rose arrow down -->
  <line x1="570" y1="148" x2="570" y2="182" stroke="#fb7185" stroke-width="1.5"/>
  <polygon points="565,182 570,194 575,182" fill="#fb7185"/>

  <!-- Full RAG Pipeline Box -->
  <rect x="497" y="198" width="156" height="59" rx="10" fill="#fb7185" opacity="0.08"/>
  <rect x="495" y="196" width="156" height="59" rx="6" fill="#0f172a" stroke="#fb7185" stroke-width="1.5"/>
  <text x="573" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#fb7185">Full RAG Pipeline</text>
  <text x="573" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">Retrieve &#8594; Augment &#8594; Generate</text>

  <!-- ~2-5s label -->
  <rect x="660" y="206" width="68" height="24" rx="12" fill="#fb7185" opacity="0.12"/>
  <text x="694" y="223" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fb7185">~2-5s</text>

  <!-- Dashed arrow looping back up to cache: from RAG box left → up → into Cache Lookup bottom -->
  <line x1="495" y1="228" x2="420" y2="228" stroke="#94a3b8" stroke-width="1" stroke-dasharray="5,3"/>
  <line x1="420" y1="228" x2="420" y2="144" stroke="#94a3b8" stroke-width="1" stroke-dasharray="5,3"/>
  <polygon points="416,146 420,138 424,146" fill="#94a3b8"/>
  <text x="380" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8" transform="rotate(-90,380,190)">Store in cache</text>

  <!-- ==================== BOTTOM LEFT CARD ==================== -->
  <!-- Glow -->
  <rect x="28" y="288" width="464" height="234" rx="12" fill="#818cf8" opacity="0.08"/>
  <!-- Card body -->
  <rect x="30" y="290" width="460" height="230" rx="8" fill="#0f172a" stroke="#818cf8" stroke-width="1.5"/>
  <!-- Card header -->
  <rect x="30" y="290" width="460" height="34" rx="8" fill="url(#skyGrad)" opacity="0.15"/>
  <rect x="30" y="310" width="460" height="14" fill="#0f172a"/>
  <text x="260" y="312" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#38bdf8">Exact vs Semantic Caching</text>

  <!-- Table Header Row -->
  <rect x="38" y="328" width="444" height="24" rx="4" fill="#060a14"/>
  <text x="100" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#94a3b8">Aspect</text>
  <text x="260" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#94a3b8">Exact Match</text>
  <text x="410" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#94a3b8">Semantic</text>

  <!-- Row 1: Hit Rate (alt bg) -->
  <rect x="38" y="354" width="444" height="24" rx="2" fill="#0f172a"/>
  <text x="100" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">Hit Rate</text>
  <text x="260" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#fb7185">5-15%</text>
  <text x="410" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#34d399">40-70%</text>

  <!-- Row 2: False Positives -->
  <rect x="38" y="378" width="444" height="24" rx="2" fill="#0a0f1a"/>
  <text x="100" y="394" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">False Positives</text>
  <text x="260" y="394" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#34d399">None</text>
  <text x="410" y="394" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#fbbf24">Possible</text>

  <!-- Row 3: Complexity -->
  <rect x="38" y="402" width="444" height="24" rx="2" fill="#0f172a"/>
  <text x="100" y="418" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">Complexity</text>
  <text x="260" y="418" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#34d399">Simple</text>
  <text x="410" y="418" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#fbbf24">Medium</text>

  <!-- Row 4: Latency -->
  <rect x="38" y="426" width="444" height="24" rx="2" fill="#0a0f1a"/>
  <text x="100" y="442" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">Latency</text>
  <text x="260" y="442" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#34d399">&lt;1ms</text>
  <text x="410" y="442" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#fbbf24">5-20ms</text>

  <!-- Row 5: Setup -->
  <rect x="38" y="450" width="444" height="24" rx="2" fill="#0f172a"/>
  <text x="100" y="466" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">Setup</text>
  <text x="260" y="466" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#34d399">Hash key</text>
  <text x="410" y="466" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#fbbf24">Vector store</text>

  <!-- Separator lines for table columns -->
  <line x1="170" y1="328" x2="170" y2="474" stroke="#1e293b" stroke-width="0.5"/>
  <line x1="340" y1="328" x2="340" y2="474" stroke="#1e293b" stroke-width="0.5"/>

  <!-- ==================== BOTTOM RIGHT CARD ==================== -->
  <!-- Glow -->
  <rect x="508" y="288" width="464" height="234" rx="12" fill="#34d399" opacity="0.08"/>
  <!-- Card body -->
  <rect x="510" y="290" width="460" height="230" rx="8" fill="#0f172a" stroke="#34d399" stroke-width="1.5"/>
  <!-- Card header -->
  <rect x="510" y="290" width="460" height="34" rx="8" fill="url(#emeraldGrad)" opacity="0.15"/>
  <rect x="510" y="310" width="460" height="14" fill="#0f172a"/>
  <text x="740" y="312" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#34d399">Real-World Impact</text>

  <!-- Hero number -->
  <text x="740" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#34d399">$52K &#8594; $4.8K</text>
  <text x="740" y="374" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#94a3b8">monthly cost</text>

  <!-- 90% reduction badge -->
  <rect x="685" y="380" width="114" height="24" rx="12" fill="#34d399" opacity="0.12"/>
  <rect x="685" y="380" width="114" height="24" rx="12" fill="none" stroke="#34d399" stroke-width="1" opacity="0.4"/>
  <text x="742" y="396" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#34d399">90% reduction</text>

  <!-- Bullet points -->
  <circle cx="528" cy="420" r="2.5" fill="#38bdf8"/>
  <text x="538" y="424" font-family="Arial, sans-serif" font-size="10.5" fill="#94a3b8">70% of queries were semantic variations of same questions</text>

  <circle cx="528" cy="440" r="2.5" fill="#38bdf8"/>
  <text x="538" y="444" font-family="Arial, sans-serif" font-size="10.5" fill="#94a3b8">Pre-warming based on yesterday's traffic patterns</text>

  <circle cx="528" cy="460" r="2.5" fill="#38bdf8"/>
  <text x="538" y="464" font-family="Arial, sans-serif" font-size="10.5" fill="#94a3b8">Arabic dialect normalization increased hit rate by 15%</text>

  <!-- Bottom callout (amber) -->
  <rect x="522" y="478" width="436" height="30" rx="6" fill="#fbbf24" opacity="0.08"/>
  <rect x="522" y="478" width="436" height="30" rx="6" fill="none" stroke="#fbbf24" stroke-width="1" opacity="0.4"/>
  <text x="740" y="498" text-anchor="middle" font-family="Arial, sans-serif" font-size="10.5" font-weight="bold" fill="#fbbf24">&#128161; Start with exact caching, add semantic layer when ROI is proven</text>
</svg>